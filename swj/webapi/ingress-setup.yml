apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: edco-swj-ingress
  namespace: api-swj
  annotations:
    nginx.ingress.kubernetes.io/use-regex: "true"
    kubernetes.io/ingress.class: "nginx"
spec:
  tls:
  - secretName: swj-agile-tls
  # Set domain
  rules:
    - host: agile.gttest13.com
    - http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: agile-svc
              port:
                number: 5000
    #- host: edco.gttest13.com
    - http:
        paths:
        - path: /activies/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: activies-svc
              port:
                number: 10001
        - path: /callcenter/
          pathType: Prefix
          backend:
            service:
              name: callcenter-svc
              port:
                number: 10001
        - path: /maintain/
          pathType: Prefix
          backend:
            service:
              name: maintain-svc
              port:
                number: 10001
        - path: /cash/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: cash-svc
              port:
                number: 10001
        - path: /credit/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: credit-svc
              port:
                number: 10001
        - path: /message/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: msg-svc
              port:
                number: 10001
        - path: /product/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: product-svc
              port:
                number: 10001
        - path: /report/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: report-svc
              port:
                number: 10001
        - path: /site/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: site-svc
              port:
                number: 10001
        - path: /statistics/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: statistics-svc
              port:
                number: 10001
        - path: /system/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: system-svc
              port:
                number: 10001
        - path: /user/([a-z]{2}-[a-z]{2}/|swagger/?)
          pathType: Prefix
          backend:
            service:
              name: user-svc
              port:
                number: 10001
        - path: /
          pathType: Prefix
          backend:
            service:
              name: edco-swj-svc
              port:
                number: 8080
---
apiVersion: v1
kind: Secret
metadata:
  name: swj-agile-tls
  namespace: api-swj
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUcxVENDQkwyZ0F3SUJBZ0lRYkZXcjI5QUhrc2VkQnd6WUVaN1d2ekFOQmdrcWhraUc5dzBCQVF3RkFEQ0IKaURFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDazVsZHlCS1pYSnpaWGt4RkRBU0JnTlZCQWNUQzBwbApjbk5sZVNCRGFYUjVNUjR3SEFZRFZRUUtFeFZVYUdVZ1ZWTkZVbFJTVlZOVUlFNWxkSGR2Y21zeExqQXNCZ05WCkJBTVRKVlZUUlZKVWNuVnpkQ0JTVTBFZ1EyVnlkR2xtYVdOaGRHbHZiaUJCZFhSb2IzSnBkSGt3SGhjTk1qQXcKTVRNd01EQXdNREF3V2hjTk16QXdNVEk1TWpNMU9UVTVXakJMTVFzd0NRWURWUVFHRXdKQlZERVFNQTRHQTFVRQpDaE1IV21WeWIxTlRUREVxTUNnR0ExVUVBeE1oV21WeWIxTlRUQ0JTVTBFZ1JHOXRZV2x1SUZObFkzVnlaU0JUCmFYUmxJRU5CTUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUFobWx6ZnFPMU1kZ2oKNFczZHBCUFRWQlgxQXV2Y0F5RzFmbDBkVW53L01ldWVDV3pSV1RoZVozNUxWbzkxa0xJM0REVmFaS1crVEJBcwpKQmpFYlltTXdjV1NUV1lDZzUzMzRTRjArY3REQXNGeHNYK3JURGg5a1NyRy80bXA2T1NodWJMYUVJVUppWm80CnQ4NzNUdVNkMFdqNURXdDNEdHBBRzhUMzVsL3YreHJOOHViOFBTU29YNVZrZ3craldmNEtRdE52VUZMRHE4bUYKV2hVblBMNmpIQUFEWHB2czRsVE5Zd090eDl5UXRicHh3U3Q3UUpZMStJQ3JtUkpCNkJ1S1J0L2pmREpGOUpzYwpSUVZsSEl4UWRLQUpsN29hVm5YZ0RrcXRrMnFkZGQza0NEWGQ3NGd2ODEzRzkxejdDanNHeUo5M29KSWxOUzNVCmdGYkQ2VjU0Sk1nWjNyU21vdFliejk4b1p4WDdNS2J0Q20xYUovcStoVHYyWUsxeU14cm5mY2llS21PWUJiRkQKaG5XNU82Uk1BNzAzZEJLOTJqNlhSTjJFdHRMa1F1dWpaZ3kralhSS3RhV01JbGtOa1dKbU9pSG1FclFuZ0h2dAppTmtJY2pKdW1xMWRkRlg0aWFUSTQwYTZ6Z3ZJQnR4RmVEczJSZmNhSDczZXI3Y3ROVVVxZ1FUNXJGZ0poTW1GCng3NnJRZ0I1T1pVa29kYjVrMmV4N1ArR3U0Sjg2YlMxNTA5NFV1WWNWMDloVmVrbm1UaDVFeDlDQktpcExTMlcKMndLQmFrZithVlluTkNVNlMwbkFTcXQyeHJacEdDMXY3djZEaHVlcHl5SnRuM3FTVjJQb0JpVTVTcWwrYUFScAp3VWliUU1HbTQ0Z2p5TkRxRGxWcCtTaExRbFVIOXg4Q0F3RUFBYU9DQVhVd2dnRnhNQjhHQTFVZEl3UVlNQmFBCkZGTjV2MXFxSzByUFZJRGgySnZBbmZLeUEyYkxNQjBHQTFVZERnUVdCQlRJMlhob290a1phTlU5Y3Q1ZkNqN2MKdFlhR3BqQU9CZ05WSFE4QkFmOEVCQU1DQVlZd0VnWURWUjBUQVFIL0JBZ3dCZ0VCL3dJQkFEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0lnWURWUjBnQkJzd0dUQU5CZ3NyQmdFRUFiSXhBUUlDClRqQUlCZ1puZ1F3QkFnRXdVQVlEVlIwZkJFa3dSekJGb0VPZ1FZWS9hSFIwY0RvdkwyTnliQzUxYzJWeWRISjEKYzNRdVkyOXRMMVZUUlZKVWNuVnpkRkpUUVVObGNuUnBabWxqWVhScGIyNUJkWFJvYjNKcGRIa3VZM0pzTUhZRwpDQ3NHQVFVRkJ3RUJCR293YURBL0JnZ3JCZ0VGQlFjd0FvWXphSFIwY0RvdkwyTnlkQzUxYzJWeWRISjFjM1F1ClkyOXRMMVZUUlZKVWNuVnpkRkpUUVVGa1pGUnlkWE4wUTBFdVkzSjBNQ1VHQ0NzR0FRVUZCekFCaGhsb2RIUncKT2k4dmIyTnpjQzUxYzJWeWRISjFjM1F1WTI5dE1BMEdDU3FHU0liM0RRRUJEQVVBQTRJQ0FRQVZEd29JelFEVgplcmNUMGVZcVpqQk5KOFZOV3dWRmxRT3RaRVJxbjVpV25FVmFMWlpkenhsYnZ6MkZ4MEV4VU51VUVnWWtJVk00CllvY0trQ1E3aE81bm9pY29xL0RyRVlINUl1TmN1VzFJOEpKWjlETHVCMWZZdklIbFoySkc0NmlOYlZLQTN5Z0EKRXo4NlJ2RFFsdDJDNDk0cXFQVkl0UmpyejlZbEpFR1QwRHJ0dHlBcHEwWUxGRHpmK1oxcGtNaGg3Yys3ZlhlSgpxbUloZkpwZHVLYzhIRVFrWVFRU2hlbjQyNlMzSDBKcklBYktjQkNpeVlGdU9oZnl2dXdWQ0ZEZkZ2cmpBRGpkCjRqWDF1UVhkMTYxSXlGUmJtODlzMk9qNW9VMXdEWXo1c3graG9DdWg2bFNzKy91UHVXb21JcTN5MUdERk5hZlcKK0xzSEJVMTZsUW81UTJ5aDI1bGFRc0tSZ3lQbU1wSEo5OGVkbTZ5MnNIVWFiQVNtUkh4dkdpdXd3RTI1YURVMAoyU0FlZXB5SW1KMkN6QjgwWUc3V3hseW5IcU5ocEU3eGZDN1B6UWxMZ21mRUhkVSt0SEZlUWF6UlFuckZrVzJXCmtxUkdJcTdjS1JueXlwdmpQTWtqZWlWOWxSZEFNOWZTSnZzQjNzdlV1dTFjb0lHMXh4STF5ZWdvR000cjVRUDQKUkdJVnZZYWlJNzZDMGRqb1NiUS9ka0lVVVhRdUI4QUw1anlIMzRnM0JaYWFYeXZwbW5WNGlscHBNWFZBbkFZRwpPTjUxV2hKNlcweE5kTkp3ellBU1pZSCt0bUNXSStONjBHdjJOTk1HSHdNWjdlOWJYZ3pVQ1pINUZhQkZER1I1ClM5VldxSEI3M1ErT3lJVnZJYktZY1NjMncvYVN1RktHU0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBaWVwVHVieUpUMGRoVXlFbUV2cHBqcWh3bjVGS1E5NHM3dmdsclJ5M0JnWUdEalplCmVYVit1VDZSb1k2a1UvWnhDWkhmRnZubnBVR3hDM3BlYzNrNi8xbUdiZkZkS1ppSlRENitIMFFEU3BXdFRuTTMKWHhuc21SNWc0UnpVd2REVm45KzI1YlhhUk1sT2U0ZlJpQmdVMEZCaVFvUFFPUmdaOFB6NFh1NjYxcTd6MHRLagpYWHB5NDNOM1dETXd4QkxJbVdBRmJUN3I1TVdYN3lBQ2lWTjF2WUtRV2dQcU5BT1BBSmQxdXJWelpoS01tNVRBCjh5a3h5bVZNaDFkVjh0OGFXZUFENE1hSnFxVW9kS2JVUlNzZ1RxQmthQ2VTZTdPN0o0bDNCY1cvZHVaTU1RMksKVWVkMnd5S1docmJQenQ5eFhqZGFpUDQ2NmJWZmliTXNkOGdFeXdJREFRQUJBb0lCQUU1WXJjTi8xVWtTTmJteAp4UjFXNEF4SXArSWQrV0Jnb0lvSXNlNkx0M1ZXaXE0Y09NTXEraGhsOFBra1BUbnRiLzJOdm53ZzczVXp3azNRCjhFTU5CWFQxK0tZUVRXcEoyd1ZUUjFJZm92Y0YzSFFLZzlRa3VBR3Iva0VqemNGa3oxYUpFaStnaFNRNmI3bEIKU01qVlZVMlp2SmdvcFdzcHcrTGc4bitMZ3R4ZG51SW5GMW1BSi8vbEZrTzhHYkF2TUg0cHc4aVVFNlRreGxmUQpVUTFhZlFLNTBrT3V0cVlGdlhzd2t5Mnd4Mk9IUlorc3k1VXhmVmFJMU5LdnU3R0xMRnR0VUFyeW9iSS91a1lzCkFsS1dDR0FBQ2NOOExuUjVVMnNJQ0cyaWRVSjNMNEZ3NERJMGp2NkphRFZPVXB6ZDU1QWR4ZFU0ekxwVGcySUkKVjVCaWF4RUNnWUVBOElpMDZEaVE0U29wZlplajlwMlA4S09UTWQzYVlUTkNaZDEwdFA3azM1TVhscVhSc1E4aQphUHFDT1ZTdEcwRUR3M21xVG5oMThadkZTUGlEVzVCejFRckFNU3pXS01ickswU293THZKSDU0Sk16YURZMVJ2ClhvbzRxdFJwb2d6WForMmt1dTVoMm9zbDE0M09qVjNxOGVlaG5lSDR4bFNNZUduZ3o4RDM0ODhDZ1lFQWtzaDUKRUZYL2QyYkVjL010NjJPR05WRElyRzZ0UnNPTmZOS2Z0Q1k0eFdrUlh6MnI5TzFtVzNIN3h4M2YwbzFrYldsYgpQRDEzcFBXTk9BYkZyODk0SGJuR3E1TmVhQmI0dzlBNEc1cnRxanFDbERwVlRSWjJrb1Z4LytCZHUwVnJPYUl6CnBXR3pqL1V6LzNBN2xlanB5NjI0LzVDRW96SUVkZ3EydVFQUUFrVUNnWUVBdDF6L3pDZVRDcE5CbmVTRHNmVGIKVGU3a3Z4Y0k2eUJRZGFjazJQV1hOSGpGZXFwZCtFUTVUeDNwT0JzOCs1SE1kSy9EREo3NENuOWRIZ3VVMTdCLwpIT0ZkTWgra0F1SGhWTks2Y25LMUY4MDU1amlnWUpCMWRmU1l6bUd2UlVIVTAvMXRuck1yRlpjTitneTRjVHd2ClpzblZncTVKSDZoRWpXYnBZbmNRZ2pFQ2dZQUVxM1lXaS9YZHNacE1hZzhxN3ZhbEdaWFl6b2lhdUx2Mm5halIKRFdvKzlaSEU2dXhlbFhMdE05b2p3cEtOVzB3M291TnhMaTl4UXhLa0Zxc1JaZE5YZHNLWVVNN3ZGdFFCUHMyYQpLenFtY01nWXVTWmZsbmhkUHZ1YWZXUGVBbDVmN2dZZ205UWZuMWh4SnZ2dVVBT29KRFcvZzdTRWtLSE5zNWVPCm1VMXoxUUtCZ0g1NGFab1MzOWJJeGtJNWxvV2FpMUlOSkh6WWRlM0FPaHpuWEY4MllRUHczdCtmbTE4QWZYV04KVTdMNFQ2QjFYbThqVVpuV0ZJTVBjTjhENUNBQVFKZkNuTlhlMFNkTkhLc0VVaUU5blh1dzBnT2JkNjJsR0hXMAp0QUpkSjc4QU53cTk3SDZ5T2llRTFQZktkTS9tKzM2SktvbGxTcStTbXVaTFNhbEk1Qkw3Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
type: kubernetes.io/tls